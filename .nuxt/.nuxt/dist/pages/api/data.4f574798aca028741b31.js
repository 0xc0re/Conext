webpackJsonp([18],{"31LQ":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",[i("v-snackbar",{attrs:{top:"",timeout:e.snackbarTimeout,color:e.snackbarColor},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.snackbarText)+"\n    "),i("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1),i("v-content",[i("v-container",{attrs:{fluid:"",tag:"section",id:"grid"}},[i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{"d-flex":"",xs12:"","order-xs5":""}},[i("v-layout",{attrs:{column:""}},[i("v-flex",{staticClass:"display-1 mb-3",attrs:{tag:"h1"}},[e._v("\n              API - Data\n              "),i("v-btn",{staticStyle:{float:"right"},attrs:{color:"success"},on:{click:function(t){e.dialog=!0}}},[e._v("New Endpoint")])],1),i("v-flex",[i("v-alert",{attrs:{type:"error",value:e.error}},[e._v("\n                "+e._s(e.error)+"\n              ")]),i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.tableHeaders,items:e.items,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[i("td",[i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(i){i.stopPropagation(),e.manageItem(t.item)}}},[e._v(e._s(t.item.module))])]),i("td",[e._v(e._s(t.item.version))]),i("td",{staticClass:"justify-center layout px-0"},[i("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(i){e.deleteItem(t.item)}}},[i("v-icon",{attrs:{color:"pink"}},[e._v("delete")])],1)],1)]}}])},[i("template",{slot:"no-data"},[e._v("\n                  You have not added any items.\n                ")])],2)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition",scrollable:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[i("v-card",{attrs:{tile:""}},[i("v-toolbar",{attrs:{card:"",dark:"",color:"deep-orange accent-4"}},[i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog=!1}}},[i("v-icon",[e._v("close")])],1),i("v-toolbar-title",[e._v(e._s(-1===e.editingIndex?"New":"Edit")+" Endpoint")]),i("v-spacer"),i("v-toolbar-items",[i("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.dialog=!1}}},[e._v("Save")])],1),i("v-menu",{attrs:{bottom:"",right:"","offset-y":""}},[i("v-btn",{attrs:{slot:"activator",dark:"",icon:""},slot:"activator"},[i("v-icon",[e._v("more_vert")])],1)],1)],1),i("v-card-text",{staticStyle:{padding:"0px"}},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("v-text-field",{attrs:{label:"Name",placeholder:"",required:""},model:{value:e.editingItem.module,callback:function(t){e.$set(e.editingItem,"module",t)},expression:"editingItem.module"}}),e._v("\n\n              \n              Define the endpoint use {var_name}, to interpolate into route paramitors.\n              "),i("v-text-field",{attrs:{label:"Endpoint",placeholder:"e.g: /customers/{id}",required:""},model:{value:e.editingItem.endpoint,callback:function(t){e.$set(e.editingItem,"endpoint",t)},expression:"editingItem.endpoint"}}),i("v-text-field",{attrs:{label:"Version",placeholder:"e.g: 1.0",required:""},model:{value:e.editingItem.version,callback:function(t){e.$set(e.editingItem,"version",t)},expression:"editingItem.version"}}),i("v-select",{attrs:{items:["None","JWT"],label:"Authentication","single-line":""},model:{value:e.editingItem.auth,callback:function(t){e.$set(e.editingItem,"auth",t)},expression:"editingItem.auth"}}),i("v-select",{attrs:{items:["None","JSON","HTML","TEXT","JS","XML","JPG","PNG","GIF"],label:"Response Content Type","single-line":""},model:{value:e.editingItem.header,callback:function(t){e.$set(e.editingItem,"header",t)},expression:"editingItem.header"}}),i("no-ssr",{attrs:{placeholder:"Codemirror Loading..."}},[i("codemirror",{attrs:{options:e.cmOption},on:{cursorActivity:e.onCmCursorActivity,ready:e.onCmReady,focus:e.onCmFocus,blur:e.onCmBlur},model:{value:e.editingItem.source,callback:function(t){e.$set(e.editingItem,"source",t)},expression:"editingItem.source"}})],1)],1)],1),i("pre",[e._v(e._s(e.editingItem))])],1),i("div",{staticStyle:{flex:"1 1 auto"}})],1)],1)],1)],1)};n._withStripped=!0;var a={render:n,staticRenderFns:[]};t.a=a},F1c2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("teyF"),a=i("31LQ"),o=!1;var s=function(e){o||i("ZphW")},r=i("VU/8")(n.a,a.a,!1,s,null,null);r.options.__file="pages/api/data.vue",t.default=r.exports},"To+1":function(e,t,i){(e.exports=i("FZ+f")(!1)).push([e.i,"",""])},ZphW:function(e,t,i){var n=i("To+1");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i("rjj0")("2a2661e8",n,!1,{sourceMap:!1})},teyF:function(e,t,i){"use strict";var n=i("woOf"),a=i.n(n),o=i("Xxa5"),s=i.n(o),r=i("exGp"),l=i.n(r),c=i("Dd8w"),d=i.n(c),u=i("NYxO"),m=(i("4swq"),i("mtWM")),v=i.n(m);t.a={middleware:["authenticated"],components:{},computed:d()({},Object(u.mapGetters)({isAuthenticated:"auth/isAuthenticated",loggedUser:"auth/loggedUser",loggedToken:"auth/loggedToken"}),{formTitle:function(){return-1===this.editedIndex?"New Container":"Edit Container"}}),data:function(){return{error:"",cmOption:{tabSize:4,foldGutter:!0,styleActiveLine:!0,lineNumbers:!0,line:!0,keyMap:"sublime",mode:"text/x-vue",theme:"base16-dark",extraKeys:{F11:function(e){e.setOption("fullScreen",!e.getOption("fullScreen"))},Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}},snackbar:!1,snackbarColor:"green",snackbarText:"foobar",snackbarTimeout:5e3,active:null,text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",items:[],tableHeaders:[{text:"Name",value:"module"},{text:"Status",value:"version"},{text:"Actions",value:"module",sortable:!1}],itemActions:[{title:"Start"},{title:"Stop"},{title:"Delete"}],dialog:!1,editingIndex:-1,editingItem:{id:-1,module:"",version:1,source:"",headers:"",config:null,auth:null},defaultItem:{id:-1,module:"",version:1,source:"",headers:"",config:null,auth:null}}},mounted:function(){this.initialize()},watch:{dialog:function(e){e||this.close()}},methods:{onCmCursorActivity:function(e){console.log("onCmCursorActivity",e)},onCmReady:function(e){console.log("onCmReady",e)},onCmFocus:function(e){console.log("onCmFocus",e)},onCmBlur:function(e){console.log("onCmBlur",e)},initialize:function(){var e=l()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loggedUser||this.$router.replace("/servers"),v.a.defaults.headers.common.Authorization="Bearer "+this.loggedToken,e.next=5,v.a.get(this.loggedUser.sub+"/api/ams/data");case 5:t=e.sent,this.items=t.data.data,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),manageItem:function(e){this.editingIndex=this.items.indexOf(e),this.editingItem=a()({},e),this.dialog=!0},deleteItem:function(){var e=l()(s.a.mark(function e(t){var i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.items.indexOf(t),confirm("Are you sure you want to delete this item?")&&this.items.splice(i,1),e.prev=2,this.loggedUser||this.$router.replace("/servers"),v.a.defaults.headers.common.Authorization="Bearer "+this.loggedToken,e.next=7,v.a.delete(this.loggedUser.sub+"/api/ams/data",{data:t});case 7:e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editingItem=a()({},e.defaultItem),e.editingIndex=-1},300)},save:function(){this.editingIndex>-1?a()(this.items[this.editingIndex],this.editingItem):this.items.push(this.editingItem),this.close()}}}}});