webpackJsonp([4],{"/LJZ":function(t,e,s){"use strict";var i=s("woOf"),a=s.n(i),r=s("Dd8w"),n=s.n(r),o=s("NYxO"),l=s("4swq"),d=s("mtWM"),c=s.n(d);e.a={middleware:[],components:{},computed:n()({},Object(o.mapGetters)({isAuthenticated:"auth/isAuthenticated",loggedUser:"auth/loggedUser",loggedToken:"auth/loggedToken"}),{formTitle:function(){return-1===this.editedIndex?"Add Server":"Edit Server"}}),data:function(){return{error:"",dialog:!1,headers:[{text:"Label",align:"left",value:"label"},{text:"Host",value:"host"},{text:"Secret",value:"secret"},{text:"Actions",value:"host",sortable:!1}],items:[],editedIndex:-1,editedItem:{host:"",secret:""},defaultItem:{host:"",secret:""}}},mounted:function(){this.initialize()},watch:{dialog:function(t){t||this.close()}},methods:{initialize:function(){this.items=this.$storage.get("servers")||[]},authItem:function(t){var e=this;this.editedIndex=this.items.indexOf(t),this.editedItem=a()({},t),c.a.post(t.host+"/auth",{label:t.label,server:t.host,secret:t.secret}).then(function(t){Object(l.c)(t.data.token),e.$router.replace("/")}).catch(function(t){t.response?401===t.response.status?e.error="Incorrect secret!":e.error="Failed to connect to host, check details.":t.request?e.error="Failed to connect to host, check details.":e.error=t.message})},editItem:function(t){this.editedIndex=this.items.indexOf(t),this.editedItem=a()({},t),this.dialog=!0},deleteItem:function(t){var e=this.items.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.items.splice(e,1),this.$storage.set("servers",this.items)},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=a()({},t.defaultItem),t.editedIndex=-1},300)},save:function(){this.editedIndex>-1?a()(this.items[this.editedIndex],this.editedItem):this.items.push(this.editedItem),this.$storage.set("servers",this.items),this.close()}}}},MKgQ:function(t,e,s){(t.exports=s("FZ+f")(!1)).push([t.i,"",""])},RDx6:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",[s("v-content",[s("v-container",{attrs:{fluid:"",tag:"section",id:"grid"}},[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{"d-flex":"",xs12:"","order-xs5":""}},[s("v-layout",{attrs:{column:""}},[s("v-flex",{staticClass:"display-1 mb-3",attrs:{tag:"h1"}},[t._v("\n              My Servers\n              "),s("v-btn",{staticStyle:{float:"right"},attrs:{color:"success"},on:{click:function(e){t.dialog=!0}}},[t._v("Add Server")])],1),s("v-flex",[s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),s("v-card-text",[s("v-alert",{attrs:{outline:"",color:"info",icon:"info",value:!0}},[t._v("\n                      Servers are securely stored in your browser for easy selection.\n                    ")]),s("v-container",{attrs:{"grid-list-md":""}},[s("v-text-field",{attrs:{label:"Label"},model:{value:t.editedItem.label,callback:function(e){t.$set(t.editedItem,"label",e)},expression:"editedItem.label"}}),s("v-layout",{attrs:{wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"Host"},model:{value:t.editedItem.host,callback:function(e){t.$set(t.editedItem,"host",e)},expression:"editedItem.host"}})],1),s("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[s("v-text-field",{attrs:{label:"Secret"},model:{value:t.editedItem.secret,callback:function(e){t.$set(t.editedItem,"secret",e)},expression:"editedItem.secret"}})],1)],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),s("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Save")])],1)],1)],1),s("v-alert",{attrs:{type:"error",value:t.error}},[t._v("\n                "+t._s(t.error)+"\n              ")]),s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.items,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[s("td",[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){t.authItem(e.item)}}},[t._v(t._s(e.item.label))])]),s("td",[s("a",{attrs:{href:e.item.host,target:"_blank",rel:"noopener"}},[t._v(t._s(e.item.host))])]),s("td",[t._v(t._s(e.item.secret))]),s("td",{staticClass:"justify-center layout px-0"},[s("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(s){t.editItem(e.item)}}},[s("v-icon",{attrs:{color:"teal"}},[t._v("edit")])],1),s("v-btn",{staticClass:"mx-0",attrs:{icon:""},on:{click:function(s){t.deleteItem(e.item)}}},[s("v-icon",{attrs:{color:"pink"}},[t._v("delete")])],1)],1)]}}])},[s("template",{slot:"no-data"},[t._v("\n                  You have not added any servers, add a new server to continue.\n                ")])],2)],1)],1)],1)],1)],1)],1)],1)};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},aUfn:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("/LJZ"),a=s("RDx6"),r=!1;var n=function(t){r||s("gRt1")},o=s("VU/8")(i.a,a.a,!1,n,null,null);o.options.__file="pages/servers/index.vue",e.default=o.exports},gRt1:function(t,e,s){var i=s("MKgQ");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("rjj0")("bf32465e",i,!1,{sourceMap:!1})}});